{"version":3,"sources":["calc.js"],"names":["Calculator","prevOpText","currOpText","clear","currOperand","prevOperand","operation","undefined","toString","slice","number","includes","calculate","calculation","prev","parseFloat","current","isNaN","stringNumber","integerDigits","split","decimalDigits","integerDisplay","toLocaleString","maximumFractionDigits","innerText","getNumber","numBtns","document","querySelectorAll","opBtns","equalsBtn","querySelector","delBtn","allClear","calculator","forEach","button","addEventListener","appendNumber","refresh","chooseOperation","event","patternForNumbers","patternForOperators","key","match","preventDefault"],"mappings":"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","sourcesContent":["/* Calculator project for Project Odin */\n\nclass Calculator {\n  constructor(prevOpText, currOpText) {\n    this.prevOpText = prevOpText\n    this.currOpText = currOpText\n    this.clear()\n  }\n  /* reset the calculator text display */\n  clear() {\n    this.currOperand = ''\n    this.prevOperand = ''\n    this.operation = undefined\n  }\n  /* delete last operand entered */\n  delete() {\n    this.currOperand = this.currOperand.toString().slice(0, -1)\n  }\n  /* add number to calculation */\n  appendNumber(number) {\n    if (number === '.' && this.currOperand.includes('.')) return\n    this.currOperand = this.currOperand.toString() + number.toString()\n  }\n  /* choose an operator for calculation */\n  chooseOperation(operation) {\n    if (this.currOperand === '') return\n    if (this.prevOperand !== '') {\n      this.calculate()\n    }\n    this.operation = operation\n    this.prevOperand = this.currOperand\n    this.currOperand = ''\n  }\n  /* run the calculation of currently entered numbers and operations */\n  calculate() {\n    let calculation\n    const prev = parseFloat(this.prevOperand)\n    const current = parseFloat(this.currOperand)\n    if (isNaN(prev) || isNaN(current)) return\n    switch (this.operation) {\n      case '+':\n        calculation = prev + current\n        break\n      case '-':\n        calculation = prev - current\n        break\n      case '*':\n        calculation = prev * current\n        break\n      case 'รท':\n        calculation = prev / current\n        break\n      default:\n        return\n    }\n    this.currOperand = calculation\n    this.operation = undefined\n    this.prevOperand = ''\n  }\n  /* format numbers to display correctly */\n  getNumber(number) {\n    const stringNumber = number.toString()\n    const integerDigits = parseFloat(stringNumber.split('.')[0])\n    const decimalDigits = stringNumber.split('.')[1]\n    let integerDisplay\n    if (isNaN(integerDigits)) {\n      integerDisplay = ''\n    } else {\n      integerDisplay = integerDigits.toLocaleString('en', { maximumFractionDigits: 0 })\n    }\n    if (decimalDigits != null) {\n      return `${integerDisplay}.${decimalDigits}`\n    } else {\n      return integerDisplay\n    }\n  }\n  /* ensure the calculator screen text is updated */\n  refresh() {\n    this.currOpText.innerText =\n      this.getNumber(this.currOperand)\n    if (this.operation != null) {\n      this.prevOpText.innerText =\n        `${this.getNumber(this.prevOperand)} ${this.operation}`\n    } else {\n      this.prevOpText.innerText = ''\n    }\n  }\n}\n\n/* take input from the calculator buttons */\nconst numBtns = document.querySelectorAll('[data-num]')\nconst opBtns = document.querySelectorAll('[data-op')\nconst equalsBtn = document.querySelector('[data-equals]')\nconst delBtn = document.querySelector('[data-del]')\nconst allClear = document.querySelector('[data-all-clear]')\nconst prevOpText = document.querySelector('[data-prev-op]')\nconst currOpText = document.querySelector('[data-curr-op]')\n\nconst calculator = new Calculator(prevOpText, currOpText)\n\nnumBtns.forEach(button => {\n  button.addEventListener('click', () => {\n    calculator.appendNumber(button.innerText)\n    calculator.refresh()\n  })\n})\n\nopBtns.forEach(button => {\n  button.addEventListener('click', () => {\n    calculator.chooseOperation(button.innerText)\n    calculator.refresh()\n  })\n})\n\nequalsBtn.addEventListener('click', button => {\n  calculator.calculate()\n  calculator.refresh()\n})\n\nallClear.addEventListener('click', button => {\n  calculator.clear()\n  calculator.refresh()\n})\n\ndelBtn.addEventListener('click', button => {\n  calculator.delete()\n  calculator.refresh()\n})\n\ndocument.addEventListener('keydown', function (event) {\n  let patternForNumbers = /[0-9]/g;\n  let patternForOperators = /[+\\-*\\/]/g\n  if (event.key.match(patternForNumbers)) {\n    event.preventDefault();\n    calculator.appendNumber(event.key)\n    calculator.refresh()\n  }\n  if (event.key === '.') {\n    event.preventDefault();\n    calculator.appendNumber(event.key)\n    calculator.refresh()\n  }\n  if (event.key.match(patternForOperators)) {\n    event.preventDefault();\n    calculator.chooseOperation(event.key)\n    calculator.refresh()\n  }\n  if (event.key === 'Enter' || event.key === '=') {\n    event.preventDefault();\n    calculator.calculate()\n    calculator.refresh()\n  }\n  if (event.key === \"Backspace\") {\n    event.preventDefault();\n    calculator.delete()\n    calculator.refresh()\n  }\n  if (event.key == 'Delete') {\n    event.preventDefault();\n    calculator.clear()\n    calculator.refresh()\n  }\n\n});"],"file":"calc.dev.js"}