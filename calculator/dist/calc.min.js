"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var Calculator=function(){function t(e,r){_classCallCheck(this,t),this.prevOpText=e,this.currOpText=r,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.currOperand="",this.prevOperand="",this.operation=void 0}},{key:"delete",value:function(){this.currOperand=this.currOperand.toString().slice(0,-1)}},{key:"appendNumber",value:function(e){"."===e&&this.currOperand.includes(".")||(this.currOperand=this.currOperand.toString()+e.toString())}},{key:"chooseOperation",value:function(e){""!==this.currOperand&&(""!==this.prevOperand&&this.calculate(),this.operation=e,this.prevOperand=this.currOperand,this.currOperand="")}},{key:"calculate",value:function(){var e,r=parseFloat(this.prevOperand),t=parseFloat(this.currOperand);if(!isNaN(r)&&!isNaN(t)){switch(this.operation){case"+":e=r+t;break;case"-":e=r-t;break;case"*":e=r*t;break;case"รท":e=r/t;break;default:return}this.currOperand=e,this.operation=void 0,this.prevOperand=""}}},{key:"getNumber",value:function(e){var r,t=e.toString(),a=parseFloat(t.split(".")[0]),c=t.split(".")[1];return r=isNaN(a)?"":a.toLocaleString("en",{maximumFractionDigits:0}),null!=c?"".concat(r,".").concat(c):r}},{key:"refresh",value:function(){this.currOpText.innerText=this.getNumber(this.currOperand),null!=this.operation?this.prevOpText.innerText="".concat(this.getNumber(this.prevOperand)," ").concat(this.operation):this.prevOpText.innerText=""}}]),t}(),numBtns=document.querySelectorAll("[data-num]"),opBtns=document.querySelectorAll("[data-op"),equalsBtn=document.querySelector("[data-equals]"),delBtn=document.querySelector("[data-del]"),allClear=document.querySelector("[data-all-clear]"),prevOpText=document.querySelector("[data-prev-op]"),currOpText=document.querySelector("[data-curr-op]"),calculator=new Calculator(prevOpText,currOpText);numBtns.forEach(function(e){e.addEventListener("click",function(){calculator.appendNumber(e.innerText),calculator.refresh()})}),opBtns.forEach(function(e){e.addEventListener("click",function(){calculator.chooseOperation(e.innerText),calculator.refresh()})}),equalsBtn.addEventListener("click",function(e){calculator.calculate(),calculator.refresh()}),allClear.addEventListener("click",function(e){calculator.clear(),calculator.refresh()}),delBtn.addEventListener("click",function(e){calculator.delete(),calculator.refresh()}),document.addEventListener("keydown",function(e){e.key.match(/[0-9]/g)&&(e.preventDefault(),calculator.appendNumber(e.key),calculator.refresh()),"."===e.key&&(e.preventDefault(),calculator.appendNumber(e.key),calculator.refresh()),e.key.match(/[+\-*\/]/g)&&(e.preventDefault(),calculator.chooseOperation(e.key),calculator.refresh()),"Enter"!==e.key&&"="!==e.key||(e.preventDefault(),calculator.calculate(),calculator.refresh()),"Backspace"===e.key&&(e.preventDefault(),calculator.delete(),calculator.refresh()),"Delete"==e.key&&(e.preventDefault(),calculator.clear(),calculator.refresh())});
//# sourceMappingURL=calc.min.js.map
